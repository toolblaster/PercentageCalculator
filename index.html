<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- BRANDING: Updated Meta Description -->
<meta name="description" content="A fast, free percentage calculator with real-time results. Calculate percentage values, increases, decreases, differences, and reverse percentages instantly — no buttons, no login, no data tracking.">
<!-- BRANDING: Added Canonical URL -->
<link rel="canonical" href="https://percentagecalculator.toolblaster.com/">

<!-- SOCIAL: Open Graph Meta Tags -->
<meta property="og:title" content="Percentage Calculator – Fast & Accurate | 6 Different calculations">
<meta property="og:description" content="A fast, free percentage calculator with real-time results. Calculate percentage values, increases, decreases, differences, and reverse percentages instantly.">
<meta property="og:url" content="https://percentagecalculator.toolblaster.com/">
<meta property="og:site_name" content="ToolBlaster">
<meta property="og:type" content="website">

<!-- BRANDING: Favicons -->
<link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="48x48" href="favicon/favicon-48x48.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
<link rel="manifest" href="favicon/site.webmanifest">

<!-- FONTS: Inter -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- BRANDING: Updated Title -->
<title>Percentage Calculator – Fast & Accurate | 6 Different calculations</title>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "name": "Percentage Calculator",
      "description": "A fast, free percentage calculator with real-time results. Calculate percentage values, increases, decreases, differences, and reverse percentages instantly — no buttons, no login, no data tracking.",
      "url": "https://percentagecalculator.toolblaster.com/",
      "inLanguage": "en",
      "publisher": {
        "@type": "Organization",
        "name": "ToolBlaster",
        "url": "https://toolblaster.com/"
      }
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How do I calculate a percentage increase?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Subtract the original number from the new number, divide the result by the original number, and then multiply by 100."
          }
        },
        {
          "@type": "Question",
          "name": "How do I find X percent of Y?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Divide the percentage (X) by 100 and multiply it by the number (Y). For example, 20% of 50 is (20/100) * 50 = 10."
          }
        },
        {
          "@type": "Question",
          "name": "What is the percentage difference formula?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "In this calculator, percentage difference is calculated by dividing the absolute difference between two values by their average ((A + B) / 2) and multiplying by 100."
          }
        },
        {
          "@type": "Question",
          "name": "Is this calculator free to use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. This tool is completely free and runs entirely in your browser."
          }
        }
      ]
    }
  ]
}
</script>
<style>
  :root {
    --bg-body: #eef2f7; /* UPDATED: Improved background contrast */
    --bg-card: #ffffff;
    --text-main: #1e293b;
    --text-muted: #475569; /* Improved Contrast: Slate 600 (AAA compliant) */
    --border: #cbd5e1; /* Improved Contrast: Slate 300 */
    --primary: #0369a1; /* Improved Contrast: Sky 700 (Passes AA on light bg) */
    --primary-bg: #e0f2fe;
    --radius: 12px; /* UPDATED: Modern rounded corners */
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;

    /* VISUAL ACCENTS: Harmonious cool tones for card distinction */
    --accent-1: #0369a1; /* Primary Sky */
    --accent-2: #0e7490; /* Cyan */
    --accent-3: #4338ca; /* Indigo */
    --accent-4: #0f766e; /* Teal */
    --accent-5: #1d4ed8; /* Blue */
    --accent-6: #475569; /* Slate */
  }
  
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  
  body { 
    font-family: var(--font-sans); 
    background: var(--bg-body); 
    color: var(--text-main); 
    line-height: 1.5; 
    font-size: 14px;
    display: flex; 
    flex-direction: column; 
    min-height: 100vh; 
  }

  /* Breadcrumbs */
  .breadcrumb {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .breadcrumb a {
    color: var(--text-muted);
    text-decoration: none;
  }
  .breadcrumb a:hover {
    color: var(--primary);
    text-decoration: underline;
  }
  .breadcrumb span {
    color: var(--text-main);
    font-weight: 500;
  }
  .breadcrumb .separator {
    color: #94a3b8;
    font-size: 0.8em;
  }

  /* V3: Ad Placeholder Styles (CLS Safe) */
  .ad-slot {
    width: 100%;
    max-width: 1140px;
    
    /* LOCKED: Ad Space Reserved but Hidden. 
       To enable ads: set display to 'flex' and uncomment height/margin below. */
    display: none; 
    
    /* margin: 0.5rem auto; */
    /* height: 100px; */
    /* min-height: 100px; */
    
    overflow: hidden; 
    background: transparent;
    border: none;
    border-radius: var(--radius);
    align-items: center;
    justify-content: center;
    color: var(--text-muted); /* Ensure readable fallback text */
    font-size: 0.8rem;
  }
  .ad-slot.top { margin-bottom: 0; }
  .ad-slot.bottom { margin-top: 1rem; }

  /* Hero / Header Section */
  header { 
    background: #ffffff;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    padding: 0.5rem 0;
    margin-bottom: 0.75rem;
    margin-top: 0;

    box-shadow:
      0 2px 6px rgba(0, 0, 0, 0.04);
  }
  .container { 
    max-width: 1140px; 
    margin: 0 auto; 
    padding: 0 1.5rem; 
  }

  /* Updated Header Layout: Flex Row for Logo + Share */
  .header-top-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.25rem;
  }
  
  /* Logo + H1 Combined */
  .brand-wrapper {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  .brand-icon {
    width: 28px; /* OPTIMIZATION: Slightly smaller icon */
    height: 28px;
    color: var(--primary);
    background: var(--primary-bg);
    padding: 5px;
    border-radius: 6px;
  }
  header h1 { 
    font-size: 1.15rem; /* OPTIMIZATION: Slightly reduced font size */
    font-weight: 700; 
    color: var(--text-main);
    letter-spacing: -0.01em;
    margin: 0;
    line-height: 1.2;
  }

  /* Header Share Button - UPDATED: Smaller & Optimized */
  .header-share-btn {
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: transparent;
    border: 1px solid var(--border);
    color: var(--text-muted);
    padding: 0 10px;
    border-radius: 6px;
    font-size: 0.75rem; /* Smaller font */
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    height: 28px; /* Reduced height for desktop */
  }
  .header-share-btn:hover {
    background-color: #f8fafc;
    color: var(--primary);
    border-color: var(--primary);
  }
  .header-share-btn:active { transform: translateY(1px); }
  .header-share-btn svg { width: 13px; height: 13px; }

  /* Mobile Specific Adjustments for Share Button */
  @media (max-width: 640px) {
    .header-share-btn {
        padding: 0 8px;
        height: 26px; /* Even smaller for mobile */
        font-size: 0.7rem;
        gap: 4px;
    }
    .header-share-btn svg { width: 12px; height: 12px; }
    
    /* Slight adjustment to brand icon on mobile to match */
    .brand-icon { width: 26px; height: 26px; }
    header h1 { font-size: 1.05rem; }
    
    /* Mobile Container Optimization */
    .container { padding: 0 1rem; }
  }
  
  /* Description under H1 */
  .header-desc {
    font-size: 0.85rem; /* OPTIMIZATION: Slightly reduced font size */
    color: var(--text-muted);
    max-width: 700px; /* Allow slightly wider text to reduce wrapping */
    margin: 0;
    line-height: 1.4;
  }

  main { padding-bottom: 1rem; flex: 1; } /* OPTIMIZATION: Reduced padding */

  /* Grid Layout */
  .grid { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 0.75rem; /* OPTIMIZATION: Reduced gap */
  }
  @media (min-width: 640px) { 
    .grid { grid-template-columns: 1fr 1fr; } 
  }
  @media (min-width: 1024px) { 
    .grid { grid-template-columns: repeat(3, 1fr); } 
  }

  /* Card Component */
  .card { 
    background: linear-gradient(
      180deg,
      #ffffff 0%,
      #ffffff 85%,
      #f8fafc 100%
    );

    border: 1px solid rgba(0, 0, 0, 0.06);
    border-top: 3px solid var(--card-accent, var(--primary));
    border-radius: var(--radius);

    box-shadow:
      0 2px 6px rgba(0, 0, 0, 0.04),
      0 12px 24px rgba(0, 0, 0, 0.06);

    display: flex; 
    flex-direction: column; 
  }

  /* Assign accents based on position */
  .card:nth-child(1) { --card-accent: var(--accent-1); }
  .card:nth-child(2) { --card-accent: var(--accent-2); }
  .card:nth-child(3) { --card-accent: var(--accent-3); }
  .card:nth-child(4) { --card-accent: var(--accent-4); }
  .card:nth-child(5) { --card-accent: var(--accent-5); }
  .card:nth-child(6) { --card-accent: var(--accent-6); }
  
  .card-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 0.5rem 0.75rem; /* OPTIMIZATION: Reduced padding */
    border-bottom: 1px solid #e2e8f0; /* Slightly darker border for separation */
    /* UPDATED BACKGROUND: Darker slate for higher contrast against white body */
    background: #f1f5f9; 
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
  }
  .card-header h2 { 
    font-size: 0.85rem; /* OPTIMIZATION: Smaller heading */
    font-weight: 600; 
    color: var(--text-main);
    margin: 0;
  }
  
  .reset-btn { 
    background: transparent; 
    border: none; 
    cursor: pointer; 
    color: var(--text-muted); 
    padding: 4px; 
    border-radius: 4px; 
    display: flex; 
    align-items: center; 
    transition: all 0.2s; 
  }
  .reset-btn:hover { 
    color: var(--text-main); 
    background: #e2e8f0; 
  }
  .reset-btn svg { width: 14px; height: 14px; }

  /* Card Body */
  .card-body { 
    padding: 0.75rem; /* OPTIMIZATION: Reduced padding */
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 0.5rem; /* OPTIMIZATION: Reduced gap */
  }
  @media (min-width: 640px) {
    .card-body { 
        grid-template-columns: 1fr 1fr; 
    }
    .result-wrapper, details.history { grid-column: 1 / -1; }
  }

  /* Input Fields */
  .field label { 
    display: block; 
    font-size: 11px; /* OPTIMIZATION: Smaller label */
    color: var(--text-muted); 
    margin-bottom: 0.15rem; /* OPTIMIZATION: Tighter spacing */
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .field input { 
    width: 100%; 
    height: 30px; /* OPTIMIZATION: Reduced height from 34px */
    padding: 0 0.5rem; 
    border: 1px solid var(--border); 
    border-radius: 4px; 
    font-size: 13px; /* OPTIMIZATION: readable but compact */
    background: #fff; 
    outline: none; 
    transition: border-color 0.15s, box-shadow 0.15s;
    -moz-appearance: textfield;
    color: var(--text-main);
  }
  .field input::-webkit-outer-spin-button,
  .field input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  .field input:focus { 
    border-color: var(--primary); 
    box-shadow: 0 0 0 2px rgba(3, 105, 161, 0.1); 
  }
  .field input::placeholder { color: #64748b; /* Darker placeholder for accessibility */ }

  /* Mobile Input Optimization: Prevent Zoom and increase touch target */
  @media (max-width: 640px) {
    .field input {
      height: 44px; /* Minimum touch target height */
      font-size: 16px; /* Prevents auto-zoom on iOS */
    }
  }

  /* Result Wrapper & Copy Button */
  .result-wrapper {
    display: flex;
    gap: 0.5rem;
    align-items: stretch;
    margin-top: 0.15rem; /* OPTIMIZATION: Tighter spacing */
  }

  .result { 
    flex: 1;
    padding: 0.25rem 0.5rem; /* OPTIMIZATION: Reduced padding */
    border-radius: 4px; 
    text-align: center; 
    font-size: 0.85rem; /* OPTIMIZATION: Consistent font size */
    font-weight: 600; 
    min-height: 32px; /* OPTIMIZATION: Reduced min-height */
    display: flex;
    align-items: center;
    justify-content: center;
    word-break: break-word;
    transition: background-color 0.3s ease;
  }
  .result.empty { background: #f1f5f9; color: var(--text-muted); font-weight: 400; }
  .result.filled { background: var(--primary-bg); color: var(--primary); }
  
  @media (max-width: 640px) {
    .result { min-height: 44px; } /* Match input height on mobile */
  }

  @keyframes highlight-pulse {
    0% { background-color: #bae6fd; }
    100% { background-color: var(--primary-bg); }
  }
  .result.updated { animation: highlight-pulse 0.4s ease-out; }

  .copy-btn {
    width: 32px; /* OPTIMIZATION: Slightly smaller button */
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 4px;
    cursor: pointer;
    color: var(--text-muted);
    transition: all 0.2s;
  }
  .copy-btn:hover { background: #f8fafc; color: var(--primary); border-color: var(--primary); }
  .copy-btn:active { transform: translateY(1px); }
  .copy-btn svg { width: 16px; height: 16px; }
  
  @media (max-width: 640px) {
    .copy-btn { width: 44px; /* Larger touch target for mobile */ }
  }

  /* History Section */
  details.history {
    font-size: 0.75rem; /* OPTIMIZATION: Smaller text */
    color: var(--text-muted);
    border-top: 1px solid #f1f5f9;
    padding-top: 0.25rem; /* OPTIMIZATION: Reduced padding */
  }
  summary {
    cursor: pointer;
    list-style: none;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.15rem;
    user-select: none;
    color: var(--text-muted);
  }
  summary:hover { color: var(--text-main); }
  summary::-webkit-details-marker { display: none; }
  summary::before {
    content: '';
    display: inline-block;
    width: 0; 
    height: 0; 
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-left: 5px solid currentColor;
    margin-right: 4px;
    transition: transform 0.2s;
  }
  details[open] summary::before { transform: rotate(90deg); }
  
  .history-list {
    list-style: none;
    padding-top: 0.25rem;
    animation: fadeIn 0.2s ease-in;
  }
  .history-list li {
    padding: 0.15rem 0; /* OPTIMIZATION: Tighter items */
    border-bottom: 1px dashed #f1f5f9;
    display: flex;
    justify-content: space-between;
  }
  .history-list li:last-child { border-bottom: none; }
  .history-val { color: var(--text-main); font-family: monospace; }
  
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  /* V3: Footer, Trust Signals & FAQ */
  footer { 
    border-top: 1px solid var(--border); 
    margin-top: auto; 
    background: #fff;
  }
  footer .container { padding-top: 1.5rem; padding-bottom: 1.5rem; } /* OPTIMIZATION: Reduced footer padding */
  
  /* UPDATED: Plain text trust bar */
  .trust-bar {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: 1rem;
    text-align: center;
    font-weight: 500;
  }

  /* NEW: Knowledge Strip Styles */
  .knowledge-strip {
    padding: 1.5rem 0;
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    background-color: #fafafa;
    margin-bottom: 2.5rem;
    text-align: center;
  }
  .knowledge-strip h2 {
    font-size: 1rem; /* Match Homepage H2 scale */
    font-weight: 600;
    color: var(--text-main);
    margin-bottom: 0.5rem;
  }
  .knowledge-strip p {
    font-size: 13.6px; /* UPDATED: Specific pixel size */
    color: var(--text-muted);
    margin-bottom: 0.75rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .text-link {
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.9rem;
  }
  .text-link:hover { text-decoration: underline; }
  
  /* Internal links styling in SEO text */
  .seo-link { color: var(--text-muted); text-decoration: underline; text-decoration-color: var(--border); }
  .seo-link:hover { color: var(--primary); text-decoration-color: var(--primary); }

  /* Educational Formulas Section */
  .formulas-section {
    margin: 1.5rem auto;
    padding: 1.25rem 1.25rem;
    max-width: 1000px;

    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.04);
  }
  .formulas-section h2 {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-main);
    margin-bottom: 1rem;
  }
  .formula-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  @media (min-width: 768px) {
    .formula-grid { grid-template-columns: 1fr 1fr; }
  }
  .formula-item {
    background: #ffffff;
    padding: 0.9rem 1rem;
    border-radius: 8px;
    border: 1px solid rgba(0,0,0,0.05);
  }
  .formula-item h3 {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 0.3rem;
  }
  .formula-item p {
    font-size: 13px;
    color: var(--text-muted);
    margin-bottom: 0.4rem;
    line-height: 1.4;
  }
  .formula-box {
    background: #f1f5f9;
    padding: 0.5rem 0.6rem;
    border-radius: 6px;
    border: 1px solid rgba(0,0,0,0.05);
    margin-top: 0.4rem;
    font-size: 13px;
    line-height: 1.4;
    color: var(--text-main);
    font-family: monospace;
    display: block;
  }

  /* About Section (Moved from Header) */
  .about-section {
    max-width: 900px;
    margin: 2rem auto;
    padding: 1.5rem 1.5rem;

    background: #f8fafc;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.04);

    text-align: center;
  }
  .about-section h2 {
    font-size: 1.15rem;
    font-weight: 600;
    color: var(--text-main);
    margin-bottom: 0.5rem; 
  }
  .about-section p {
    font-size: 13.5px;
    color: var(--text-muted);
    line-height: 1.5;
    margin-bottom: 0.6rem;
  }
  
  /* Feature Highlight Text */
  .instant-note {
    font-weight: 500;
    color: var(--primary);
    font-size: 0.9rem;
    margin-bottom: 0.75rem;
    display: block;
  }
  
  /* Feature List (Plain text style) */
  .feature-title {
    font-weight: 600;
    color: var(--text-main);
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
  }
  .feature-list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.25rem 0.75rem;
    text-align: left;
    max-width: 420px;
    margin: 0 auto;
    padding: 0;
    list-style: none;
    font-size: 0.85rem;
    color: var(--text-muted);
  }
  .feature-list li {
    display: flex;
    align-items: center;
    padding: 0.1rem 0;
  }
  .feature-list li::before {
    content: "•";
    color: var(--text-muted);
    margin-right: 0.5rem;
    font-size: 1.1em;
    line-height: 1;
  }
  @media (min-width: 640px) {
    .feature-list { grid-template-columns: 1fr 1fr; }
  }

  .faq-section {
    margin-bottom: 2rem;
    max-width: 900px; /* UPDATED: SEO Width */
    margin-left: auto;
    margin-right: auto;
    border-top: 1px solid #f1f5f9;
    padding-top: 2rem;
  }
  .faq-section h2 { font-size: 1rem; color: var(--text-main); margin-bottom: 1rem; padding-bottom: 0.5rem; }
  .faq-item { margin-bottom: 1.25rem; }
  .faq-item h3 { font-size: 0.9rem; font-weight: 600; color: var(--text-main); margin-bottom: 0.25rem; }
  .faq-item p { font-size: 13.6px; /* UPDATED: Specific pixel size */ color: var(--text-muted); margin: 0; }

  .footer-links {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    font-size: 0.85rem;
  }
  .affiliate-link { color: var(--text-muted); }
  .affiliate-link a { color: var(--text-muted); text-decoration: underline; }

  footer p.copyright { text-align: center; font-size: 0.75rem; color: var(--text-muted); }
</style>
</head>
<body>

<!-- V3: Top Ad Slot (CLS Safe - No Text) -->
<div class="container">
  <!-- LOCKED AD SPACE - PRESERVED: Added role="region" to generic div with aria-label -->
  <div class="ad-slot top" role="region" aria-label="Advertisement"></div>
</div>

<header>
  <div class="container">
    <div class="header-top-row">
      <div class="brand-wrapper">
        <!-- 2-in-1 Logo: Icon + H1 Text -->
        <svg class="brand-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 4.5l-15 15m0 0h.01M19.5 4.5h.01M6 9a3 3 0 110-6 3 3 0 010 6zm12 12a3 3 0 110-6 3 3 0 010 6z" />
        </svg>
        <h1>Percentage Calculator</h1>
      </div>
      <!-- Moved Share Button -->
      <button class="header-share-btn" id="shareBtn" aria-label="Share tool">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="18" cy="5" r="3"></circle>
          <circle cx="6" cy="12" r="3"></circle>
          <circle cx="18" cy="19" r="3"></circle>
          <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
          <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
        </svg>
        <span>Share</span>
      </button>
    </div>
    <!-- New Description under H1 -->
    <p class="header-desc">Calculate percentages instantly — fast and accurate</p>
  </div>
</header>

<main>
  <div class="container">
    <div class="grid" id="grid"></div>
  </div>
</main>

<footer>
  <div class="container">
    <!-- Trust Signals -->
    <div class="trust-bar">
      No login required &middot; Works offline &middot; No data is stored or tracked
    </div>
    
    <!-- NEW: Knowledge Strip -->
    <section class="knowledge-strip">
      <h2>Want to understand how percentage calculations work?</h2>
      <p>
        Learn percentage formulas for increase, decrease, difference,
        reverse percentage, and step-by-step examples in our complete guide.
      </p>
      <a href="pages/percentage-guide.html" class="text-link">
        Learn Percentages – Complete Guide →
      </a>
    </section>

    <!-- New: How Calculations Work Section -->
    <div class="formulas-section">
      <h2>How Calculations Work</h2>
      <div class="formula-grid">
        <div class="formula-item">
          <h3>Find a Percentage of a Number</h3>
          <p>Use this to find a specific portion of a total. For example, if you are buying a laptop for $1000 and the sales tax is 8%, this calculates the exact tax amount ($80).</p>
          <div class="formula-box">
            Formula: (Percentage ÷ 100) × Total Number<br>
            Example: 20% of 100<br>
            Calculation: (20 ÷ 100) × 100 = 20
          </div>
        </div>
        <div class="formula-item">
          <h3>Find What Percentage X is of Y</h3>
          <p>Use this to see what fraction one number represents of a larger whole. For instance, if you scored 42 questions correct out of 50, this calculates the final grade percentage (84%).</p>
          <div class="formula-box">
            Formula: (Part ÷ Whole) × 100<br>
            Example: 10 is what % of 50?<br>
            Calculation: (10 ÷ 50) × 100 = 20%
          </div>
        </div>
        <div class="formula-item">
          <h3>Find the Total Given a Percentage</h3>
          <p>Use this to calculate the original whole number when you only know a part and its percentage rate. Learn more about <a href="pages/percentage-guide.html" class="seo-link">reverse percentage</a> calculations.</p>
          <div class="formula-box">
            Formula: Part ÷ (Percentage ÷ 100)<br>
            Example: If 10 is 20%...<br>
            Calculation: 10 ÷ 0.20 = 50
          </div>
        </div>
        <div class="formula-item">
          <h3>Calculate Percentage Increase</h3>
          <p>Use this to measure how much a number has grown. Great for calculating salary raises or rent increases. See our guide on <a href="pages/percentage-guide.html" class="seo-link">percentage increase</a>.</p>
          <div class="formula-box">
            Formula: ((New Value - Old Value) ÷ Old Value) × 100<br>
            Example: 100 to 150<br>
            Calculation: ((150 - 100) ÷ 100) × 100 = 50%
          </div>
        </div>
        <div class="formula-item">
          <h3>Calculate Percentage Decrease</h3>
          <p>Use this to measure how much a number has dropped from its starting value. Perfect for figuring out the markdown percentage during a store sale or asset depreciation.</p>
          <div class="formula-box">
            Formula: ((Old Value - New Value) ÷ Old Value) × 100<br>
            Example: 100 to 75<br>
            Calculation: ((100 - 75) ÷ 100) × 100 = 25%
          </div>
        </div>
        <!-- REFINED: Updated description to match the "relative to B" logic -->
        <div class="formula-item">
          <h3>Calculate Percentage Difference</h3>
          <p>In this tool, this is calculated by dividing the absolute difference between two values by their average. Use this when comparing two values where neither is the "standard" or "original". Check the <a href="pages/percentage-guide.html" class="seo-link">percentage difference</a> formula.</p>
          <div class="formula-box">
            Formula: |A - B| ÷ ((A + B) / 2) × 100<br>
            Example: 50 (A) vs 40 (B)<br>
            Calculation: |50 - 40| ÷ ((50 + 40) / 2) × 100 = 22.2222%
          </div>
        </div>
      </div>
    </div>

    <!-- About Section -->
    <div class="about-section">
      <h2>Free Online Percentage Tools</h2>
      <p class="instant-note">Results update instantly as you type — no calculate button required.</p>
      <p>Designed for fast workflows on laptops and desktops, while remaining mobile-friendly.</p>
      <p>Use this free online percentage calculator to instantly solve common math problems. Whether you need to determine percentage increases for analysis, calculate the <a href="pages/percentage-guide.html" class="seo-link">percentage difference</a> between two numbers, or figure out what percentage X is of Y, this tool delivers accurate results in real-time. Your inputs and recent calculations are saved locally in your browser for convenience.</p>
      
      <!-- Feature List -->
      <p class="feature-title">This calculator includes:</p>
      <ul class="feature-list">
        <li>Percentage of a number</li>
        <li>Percentage from total</li>
        <li>Reverse percentage</li>
        <li>Percentage increase</li>
        <li>Percentage decrease</li>
        <li>Percentage difference</li>
      </ul>
    </div>

    <!-- SEO FAQ -->
    <div class="faq-section">
      <h2>Frequently Asked Questions</h2>
      <div class="faq-item">
        <h3>1. How do I calculate a percentage increase?</h3>
        <p>Subtract the original number from the new number, divide the result by the original number, and then multiply by 100.</p>
      </div>
      <div class="faq-item">
        <h3>2. How do I find X percent of Y?</h3>
        <p>Divide the percentage (X) by 100 and multiply it by the number (Y). For example, 20% of 50 is (20/100) * 50 = 10.</p>
      </div>
      <div class="faq-item">
        <h3>3. What is the percentage difference formula?</h3>
        <!-- REFINED: Updated answer to clarify "relative to second value" logic -->
        <p>In this calculator, <a href="pages/percentage-guide.html" class="seo-link">percentage difference</a> is calculated by dividing the absolute difference between two values by their average ((A + B) / 2) and multiplying by 100.</p>
      </div>
      <div class="faq-item">
        <h3>4. Is this calculator free to use?</h3>
        <p>Yes. This tool is completely free and runs entirely in your browser.</p>
      </div>
    </div>

    <!-- Share & Affiliate -->
    <div class="footer-links">
      <!-- Added Navigation Links: Pointing to pages folder -->
      <div style="margin-top: 0.5rem;">
        <a href="pages/about.html" style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">About</a>
        <a href="pages/privacy.html" style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">Privacy</a>
      </div>
      
      <!-- New subtle footer knowledge link -->
      <a href="pages/percentage-guide.html" style="color: var(--text-muted); text-decoration: none; font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.8;">Learn percentage formulas & step-by-step explanations →</a>
    </div>

    <!-- BRANDING: Updated Footer Copyright with clickable brand link -->
    <p class="copyright">&copy; 2026 percentagecalculator.<a href="https://toolblaster.com" style="color: inherit; text-decoration: underline;">Toolblaster.com</a> &middot; Free online Percentage calculation tools</p>
  </div>
</footer>

<!-- Bottom Ad Slot (CLS Safe) -->
<div class="container">
  <!-- LOCKED AD SPACE - PRESERVED: Added role="region" to generic div with aria-label -->
  <div class="ad-slot bottom" role="region" aria-label="Advertisement"></div>
</div>

<script>
// V2: Storage Key Prefix
const STORE_KEY = 'pcalc_v2_';

// Centralized formatting logic for consistency
const formatNum = (num) => +num.toFixed(4);

const calcs = [
  { 
    title: "What is X% of Y?", 
    a: "Percentage (%)", b: "Number", pa: "15", pb: "200",
    fn: (a, b) => `${a}% of ${b} = ${formatNum(a / 100 * b)}` 
  },
  { 
    title: "X is what % of Y?", 
    a: "Part (X)", b: "Whole (Y)", pa: "30", pb: "200",
    fn: (a, b) => b === 0 ? "Cannot divide by zero" : `${a} is ${formatNum(a / b * 100)}% of ${b}` 
  },
  { 
    title: "If X is N%, find Total", 
    a: "Value (X)", b: "Percentage (N%)", pa: "30", pb: "15",
    fn: (a, b) => b === 0 ? "Percentage cannot be zero" : `If ${a} is ${b}%, total = ${formatNum(a / b * 100)}` 
  },
  { 
    title: "Percentage Increase", 
    a: "Original value", b: "New value", pa: "100", pb: "150",
    fn: (a, b) => a === 0 ? "Original value cannot be zero" : `${a} → ${b} = ${formatNum((b - a) / a * 100)}% increase` 
  },
  { 
    title: "Percentage Decrease", 
    a: "Original value", b: "New value", pa: "150", pb: "100",
    fn: (a, b) => a === 0 ? "Original value cannot be zero" : `${a} → ${b} = ${formatNum((a - b) / a * 100)}% decrease` 
  },
  { 
    title: "Percentage Difference", 
    a: "Value A", b: "Value B", pa: "80", pb: "100",
    fn: (a, b) => { 
      if (a === 0 && b === 0) return "Both values are zero";
      const avg = (a + b) / 2;
      if (avg === 0) return "Cannot calculate percentage difference";
      const r = (Math.abs(a - b) / avg) * 100;
      return `The percentage difference between A and B is ${formatNum(r)}%`; 
    } 
  }
];

const grid = document.getElementById('grid');
const resetSvg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>';
const copySvg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
const checkSvg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>';

const fragment = document.createDocumentFragment();

calcs.forEach((c, index) => {
  const card = document.createElement('div');
  card.className = 'card';
  
  const idA = `calc-${index}-a`;
  const idB = `calc-${index}-b`;
  
  card.innerHTML = `
    <div class="card-header">
        <h2>${c.title}</h2>
        <button class="reset-btn" aria-label="Reset ${c.title}" title="Clear inputs and history">${resetSvg}</button>
    </div>
    <div class="card-body">
      <div class="field">
        <label for="${idA}">${c.a}</label>
        <input type="number" id="${idA}" placeholder="${c.pa}" data-input="a" step="any">
      </div>
      <div class="field">
        <label for="${idB}">${c.b}</label>
        <input type="number" id="${idB}" placeholder="${c.pb}" data-input="b" step="any">
      </div>
      <div class="result-wrapper">
        <div class="result empty" aria-live="polite">Result: —</div>
        <button class="copy-btn" aria-label="Copy result" title="Copy to clipboard">${copySvg}</button>
      </div>
      <details class="history">
        <summary>History</summary>
        <ul class="history-list"></ul>
      </details>
    </div>`;
    
  const inA = card.querySelector('[data-input="a"]');
  const inB = card.querySelector('[data-input="b"]');
  const res = card.querySelector('.result');
  const copyBtn = card.querySelector('.copy-btn');
  const histList = card.querySelector('.history-list');
  const details = card.querySelector('details');

  const loadState = () => {
    const savedA = localStorage.getItem(`${STORE_KEY}${index}_a`);
    const savedB = localStorage.getItem(`${STORE_KEY}${index}_b`);
    const savedHist = JSON.parse(localStorage.getItem(`${STORE_KEY}${index}_hist`) || '[]');
    
    if (savedA) inA.value = savedA;
    if (savedB) inB.value = savedB;
    renderHistory(savedHist);
  };

  const renderHistory = (histArray) => {
    histList.innerHTML = histArray.length === 0 
      ? '<li style="color:var(--text-muted); font-style:italic;">No recent calculations</li>' 
      : histArray.map(item => `<li><span>${item.date}</span><span class="history-val">${item.val}</span></li>`).join('');
  };

  const saveHistory = (resultText) => {
    if (!resultText || resultText === 'Result: —' || resultText.includes('Cannot')) return;
    
    let hist = JSON.parse(localStorage.getItem(`${STORE_KEY}${index}_hist`) || '[]');
    if (hist.length > 0 && hist[0].val === resultText) return;

    hist.unshift({ val: resultText, date: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) });
    if (hist.length > 3) hist.pop();
    
    localStorage.setItem(`${STORE_KEY}${index}_hist`, JSON.stringify(hist));
    renderHistory(hist);
  };

  const update = (shouldSaveHistory = false) => {
    const valA = parseFloat(inA.value.trim());
    const valB = parseFloat(inB.value.trim());
    
    if (!isNaN(valA) && !isNaN(valB)) {
      const resultText = c.fn(valA, valB);
      
      if (res.textContent !== resultText) {
        res.textContent = resultText;
        res.className = 'result filled';
        res.classList.remove('updated');
        void res.offsetWidth; 
        res.classList.add('updated');
      }

      localStorage.setItem(`${STORE_KEY}${index}_a`, inA.value);
      localStorage.setItem(`${STORE_KEY}${index}_b`, inB.value);

      if (shouldSaveHistory) saveHistory(resultText);

    } else { 
      res.textContent = 'Result: —'; 
      res.className = 'result empty';
      if (inA.value === '') localStorage.removeItem(`${STORE_KEY}${index}_a`);
      if (inB.value === '') localStorage.removeItem(`${STORE_KEY}${index}_b`);
    }
  };
  
  inA.addEventListener('input', () => update(false));
  inB.addEventListener('input', () => update(false));
  
  const commit = () => update(true);
  inA.addEventListener('change', commit);
  inB.addEventListener('change', commit);
  inA.addEventListener('keydown', (e) => { if (e.key === 'Enter') commit(); });
  inB.addEventListener('keydown', (e) => { if (e.key === 'Enter') commit(); });
  
  card.querySelector('.reset-btn').addEventListener('click', () => { 
    inA.value = ''; 
    inB.value = ''; 
    update(false);
    localStorage.removeItem(`${STORE_KEY}${index}_a`);
    localStorage.removeItem(`${STORE_KEY}${index}_b`);
    localStorage.removeItem(`${STORE_KEY}${index}_hist`);
    renderHistory([]);
    inA.focus(); 
  });

  copyBtn.addEventListener('click', () => {
    const text = res.textContent;
    if (text === 'Result: —') return;
    
    navigator.clipboard.writeText(text).then(() => {
      const originalSvg = copyBtn.innerHTML;
      copyBtn.innerHTML = checkSvg;
      copyBtn.style.color = 'var(--primary)';
      setTimeout(() => {
        copyBtn.innerHTML = originalSvg;
        copyBtn.style.color = '';
      }, 1500);
    });
  });
  
  loadState();
  if (inA.value && inB.value) update(false);

  fragment.appendChild(card);
});

grid.appendChild(fragment);

// V3: Native Share Logic
document.getElementById('shareBtn').addEventListener('click', async () => {
  if (navigator.share) {
    try {
      await navigator.share({
        title: document.title,
        text: 'Check out this free online Percentage Calculator.',
        url: window.location.href
      });
    } catch (err) {
      // User cancelled or share failed
    }
  } else {
    // Fallback: Copy URL
    navigator.clipboard.writeText(window.location.href).then(() => {
      const btn = document.getElementById('shareBtn');
      const originalText = btn.innerHTML; // Store original content (icon + text)
      // Temporarily change content to text only for feedback
      btn.innerHTML = '<span style="width:100%; text-align:center;">Copied!</span>';
      setTimeout(() => {
         btn.innerHTML = originalText;
      }, 2000);
    });
  }
});
</script>
</body>
</html>
